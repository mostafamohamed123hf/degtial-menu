<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title data-i18n="pageTitle">تسجيل الدخول | لوحة التحكم</title>
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self' http://localhost:5000; script-src 'self' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com 'unsafe-inline'; style-src 'self' https://cdnjs.cloudflare.com https://fonts.googleapis.com 'unsafe-inline'; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com; img-src 'self' data: https:; connect-src 'self' http://localhost:5000 https://unpkg.com;" />
    <link rel="stylesheet" href="../public/css/main.css" />
    <link rel="stylesheet" href="css/admin.css" />
    <link rel="stylesheet" href="css/neon-login.css" />
    <link rel="stylesheet" href="css/direction-styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⚙️</text></svg>" />
    <meta name="description" content="Admin login page for Digital Menu" />
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet" />
    
    <!-- Inline script to prevent language flash -->
    <script>
      (function() {
        var savedLang = localStorage.getItem('admin-language') || 'ar';
        var html = document.documentElement;
        
        if (savedLang === 'en') {
          html.setAttribute('lang', 'en');
          html.setAttribute('dir', 'ltr');
          if (document.body) {
            document.body.classList.add('ltr-layout');
          } else {
            document.addEventListener('DOMContentLoaded', function() {
              document.body.classList.add('ltr-layout');
            });
          }
        } else {
          html.setAttribute('lang', 'ar');
          html.setAttribute('dir', 'rtl');
          if (document.body) {
            document.body.classList.remove('ltr-layout');
          }
        }
      })();
    </script>
    
    <style>
      /* Hide content until translations are applied */
      body:not(.i18n-ready) {
        opacity: 0;
      }
      body.i18n-ready {
        opacity: 1;
        transition: opacity 0.1s ease-in;
      }
    </style>
    <style>
      :root {
        --login-primary: #42d158;
        --login-primary-dark: #34a853;
        --login-primary-light: #65e580;
        --login-bg: #f8f9fa;
        --login-card-bg: #ffffff;
        --login-text: #333333;
        --login-text-light: #666666;
        --login-border: #e0e0e0;
        --login-shadow: rgba(0, 0, 0, 0.1);
        --login-error: #ff3b30;
      }

      body.dark-theme {
        --login-bg: #121212;
        --login-card-bg: #1e1e1e;
        --login-text: #ffffff;
        --login-text-light: #b0b0b0;
        --login-border: #2d2d2d;
        --login-shadow: rgba(0, 0, 0, 0.25);
      }

      body {
        margin: 0;
        padding: 0;
        background-color: var(--login-bg);
        font-family: "Cairo", sans-serif;
        overflow-x: hidden;
      }

      .login-container {
        display: flex;
        min-height: 100vh;
        background-color: var(--login-bg);
        position: relative;
        overflow: hidden;
      }

      .login-background {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        overflow: hidden;
        z-index: 0;
      }

      .login-background .shape {
        position: absolute;
        background: linear-gradient(
          135deg,
          var(--login-primary),
          var(--login-primary-light)
        );
        border-radius: 50%;
        filter: blur(30px);
        opacity: 0.15;
        animation: float 15s infinite ease-in-out;
      }

      .login-background .shape:nth-child(1) {
        width: 400px;
        height: 400px;
        top: -150px;
        right: -100px;
        animation-delay: 0s;
      }

      .login-background .shape:nth-child(2) {
        width: 300px;
        height: 300px;
        bottom: -100px;
        left: -100px;
        animation-delay: -5s;
      }

      .login-background .shape:nth-child(3) {
        width: 200px;
        height: 200px;
        bottom: 30%;
        right: 20%;
        animation-delay: -10s;
      }

      .login-panel {
        display: flex;
        flex-direction: row-reverse;
        width: 100%;
        max-width: 1000px;
        margin: auto;
        position: relative;
        z-index: 1;
        box-shadow: 0 15px 50px var(--login-shadow);
        border-radius: 20px;
        overflow: hidden;
      }

      .login-image {
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding: 40px;
        color: white;
        position: relative;
        overflow: hidden;
        background: rgba(0, 0, 0, 0.7);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
      }

      .login-image::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
            217deg,
            rgba(255, 0, 0, 0.3),
            rgba(255, 0, 0, 0) 70%
          ),
          linear-gradient(127deg, rgba(0, 255, 0, 0.3), rgba(0, 255, 0, 0) 70%),
          linear-gradient(336deg, rgba(0, 0, 255, 0.3), rgba(0, 0, 255, 0) 70%);
        z-index: 0;
      }

      .login-image::after {
        content: "";
        position: absolute;
        width: 200%;
        height: 200%;
        top: -50%;
        left: -50%;
        background: radial-gradient(
          circle,
          transparent 20%,
          rgba(66, 209, 88, 0.1) 40%,
          rgba(66, 209, 88, 0.05) 60%,
          transparent 70%
        );
        animation: neonPulse 15s infinite linear;
        z-index: 0;
      }

      @keyframes neonPulse {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .login-image-content {
        position: relative;
        z-index: 1;
        text-align: center;
      }

      .login-image-logo {
        font-size: 5rem;
        margin-bottom: 20px;
        animation: pulse 3s infinite ease-in-out;
        display: flex;
        justify-content: center;
        align-items: center;
        margin-left: auto;
        margin-right: auto;
      }

      .login-image h2 {
        font-size: 2rem;
        margin: 0 0 10px 0;
        font-weight: 700;
      }

      .login-image p {
        font-size: 1rem;
        opacity: 0.9;
        margin: 0 0 30px 0;
        line-height: 1.6;
      }

      .login-feature {
        display: flex;
        align-items: center;
        margin: 15px 0;
        text-align: right;
        justify-content: flex-end;
        width: 100%;
      }

      .login-feature span {
        flex: 1;
      }

      .login-feature i {
        font-size: 1.2rem;
        margin-right: 10px;
        background: rgba(255, 255, 255, 0.2);
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
      }

      /* RTL specific styles for login-feature */
      html[dir="rtl"] .login-feature {
        flex-direction: row-reverse;
      }

      html[dir="rtl"] .login-feature i {
        margin-right: 0;
        margin-left: 10px;
      }

      html[dir="rtl"] .login-feature span {
        text-align: right;
      }

      /* LTR specific styles for login-feature */
      html[dir="ltr"] .login-feature {
        flex-direction: row;
        justify-content: flex-start;
      }

      html[dir="ltr"] .login-feature i {
        margin-right: 10px;
        margin-left: 0;
      }

      html[dir="ltr"] .login-feature span {
        text-align: left;
      }

      .login-form-container {
        flex: 1;
        background-color: var(--login-card-bg);
        padding: 40px;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }

      .login-header {
        text-align: center;
        margin-bottom: 30px;
      }

      .login-logo {
        font-size: 3rem;
        margin-bottom: 10px;
        color: var(--login-primary);
        display: inline-block;
        background: linear-gradient(
          135deg,
          var(--login-primary),
          var(--login-primary-light)
        );
        -webkit-background-clip: text;
        background-clip: text;
      }

      .login-title {
        font-size: 1.8rem;
        font-weight: 700;
        color: var(--login-text);
        margin-bottom: 10px;
      }

      .login-subtitle {
        font-size: 1rem;
        color: var(--login-text-light);
      }

      /* Modern Error Message System */
      .message-container {
        position: relative;
        margin-bottom: 25px;
        min-height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .message-alert {
        display: none;
        position: relative;
        width: 100%;
        padding: 16px 20px;
        border-radius: 12px;
        font-size: 0.95rem;
        font-weight: 500;
        line-height: 1.5;
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        transform: translateY(-10px);
        opacity: 0;
        overflow: hidden;
        word-wrap: break-word;
      }

      .message-alert.show {
        display: flex;
        align-items: flex-start;
        gap: 12px;
        transform: translateY(0);
        opacity: 1;
        animation: messageSlideIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        min-height: 44px;
      }

      /* Error Message Styling */
      .message-alert.error {
        background: linear-gradient(135deg, 
          rgba(255, 59, 48, 0.15) 0%, 
          rgba(255, 59, 48, 0.08) 100%);
        color: #ff3b30;
        border-color: rgba(255, 59, 48, 0.3);
      }

      .message-alert.error::before {
        content: '';
        position: absolute;
        top: 0;
        width: 4px;
        height: 100%;
        background: linear-gradient(180deg, #ff3b30 0%, #ff6b5a 100%);
        border-radius: 2px;
      }

      /* Success Message Styling */
      .message-alert.success {
        background: linear-gradient(135deg, 
          rgba(66, 209, 88, 0.15) 0%, 
          rgba(66, 209, 88, 0.08) 100%);
        color: #42d158;
        border-color: rgba(66, 209, 88, 0.3);
      }

      .message-alert.success::before {
        content: '';
        position: absolute;
        top: 0;
        width: 4px;
        height: 100%;
        background: linear-gradient(180deg, #42d158 0%, #65e580 100%);
        border-radius: 2px;
      }

      /* Warning Message Styling */
      .message-alert.warning {
        background: linear-gradient(135deg, 
          rgba(255, 193, 7, 0.15) 0%, 
          rgba(255, 193, 7, 0.08) 100%);
        color: #ffc107;
        border-color: rgba(255, 193, 7, 0.3);
      }

      .message-alert.warning::before {
        content: '';
        position: absolute;
        top: 0;
        width: 4px;
        height: 100%;
        background: linear-gradient(180deg, #ffc107 0%, #ffcd39 100%);
        border-radius: 2px;
      }

      /* RTL/LTR Direction Support */
      html[dir="rtl"] .message-alert::before {
        right: 0;
        left: auto;
      }

      html[dir="ltr"] .message-alert::before {
        left: 0;
        right: auto;
      }

      html[dir="rtl"] .message-alert.show {
        text-align: right;
        flex-direction: row-reverse;
        padding-right: 24px;
        padding-left: 20px;
      }

      html[dir="ltr"] .message-alert.show {
        text-align: left;
        flex-direction: row;
        padding-left: 24px;
        padding-right: 20px;
      }

      /* Message Icon Styling */
      .message-alert .message-icon {
        font-size: 1.3rem;
        flex-shrink: 0;
        display: flex;
        align-items: flex-start;
        justify-content: center;
        width: 24px;
        height: 24px;
        margin-top: 2px;
      }

      .message-alert.error .message-icon {
        color: #ff3b30;
        animation: errorPulse 2s infinite;
      }

      .message-alert.success .message-icon {
        color: #42d158;
        animation: successBounce 0.6s ease-out;
      }

      .message-alert.warning .message-icon {
        color: #ffc107;
        animation: warningShake 0.8s ease-in-out;
      }

      /* Message Text */
      .message-alert .message-text {
        flex: 1;
        font-weight: 500;
        word-wrap: break-word;
        word-break: break-word;
        overflow-wrap: break-word;
        white-space: normal;
        line-height: 1.4;
        min-width: 0;
        max-width: 100%;
        display: block;
        width: 100%;
      }

      /* Dark Theme Support */
      body.dark-theme .message-alert {
        border-color: rgba(255, 255, 255, 0.1);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      }

      body.dark-theme .message-alert.error {
        background: linear-gradient(135deg, 
          rgba(255, 59, 48, 0.2) 0%, 
          rgba(255, 59, 48, 0.1) 100%);
        color: #ff6b5a;
      }

      body.dark-theme .message-alert.success {
        background: linear-gradient(135deg, 
          rgba(66, 209, 88, 0.2) 0%, 
          rgba(66, 209, 88, 0.1) 100%);
        color: #65e580;
      }

      body.dark-theme .message-alert.warning {
        background: linear-gradient(135deg, 
          rgba(255, 193, 7, 0.2) 0%, 
          rgba(255, 193, 7, 0.1) 100%);
        color: #ffcd39;
      }

      /* Responsive Design for Messages */
      @media (max-width: 768px) {
        .message-alert {
          padding: 14px 16px;
          font-size: 0.9rem;
        }
        
        .message-alert .message-icon {
          font-size: 1.2rem;
          width: 20px;
          height: 20px;
        }
        
        .message-alert .message-text {
          line-height: 1.3;
        }
        
        .message-container {
          min-height: 50px;
        }
      }
      
      @media (max-width: 480px) {
        .message-alert {
          padding: 12px 14px;
          font-size: 0.85rem;
        }
        
        .message-alert .message-text {
          line-height: 1.2;
        }
      }

      .form-group {
        margin-bottom: 20px;
      }

      .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: var(--login-text);
        font-size: 0.95rem;
      }

      .input-with-icon {
        position: relative;
      }

      .input-with-icon i {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        color: var(--login-text-light);
        width: 20px;
        text-align: center;
        z-index: 2;
      }

      .input-with-icon input {
        width: 100%;
        height: 50px;
        border-radius: 12px;
        border: 1px solid var(--login-border);
        background-color: var(--login-card-bg);
        color: var(--login-text);
        font-size: 1rem;
        transition: all 0.3s ease;
        box-sizing: border-box;
        direction: inherit;
      }

      .toggle-password {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background: none;
        border: none;
        color: var(--login-text-light);
        cursor: pointer;
        font-size: 0.9rem;
        padding: 5px;
        transition: all 0.2s ease;
        z-index: 3;
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .toggle-password:hover {
        color: var(--login-primary);
      }

      .toggle-password:focus {
        outline: none;
      }

      .input-with-icon input:focus {
        border-color: var(--login-primary);
        box-shadow: 0 0 0 3px rgba(66, 209, 88, 0.15);
        outline: none;
      }

      .remember-me {
        display: flex;
        align-items: center;
        margin-bottom: 20px;
        position: relative;
      }

      .remember-me input {
        margin-left: 8px;
      }

      .remember-me label {
        color: var(--login-text);
        font-size: 0.9rem;
        cursor: pointer;
      }

      /* Position remember-me div on the left in LTR mode */
      html[dir="ltr"] .remember-me {
        text-align: left;
        float: left;
        width: auto;
        margin-right: auto;
      }

      html[dir="ltr"] .remember-me input {
        margin-left: 0;
        margin-right: 8px;
      }

      html[dir="ltr"] .remember-me input {
        order: 1;
      }

      .login-button {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
        padding: 15px;
        background: linear-gradient(
          135deg,
          var(--login-primary),
          var(--login-primary-light)
        );
        color: white;
        border: none;
        border-radius: 12px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 5px 15px rgba(66, 209, 88, 0.2);
        position: relative;
        overflow: hidden;
      }

      .login-button::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          to right,
          transparent,
          rgba(255, 255, 255, 0.2),
          transparent
        );
        transform: translateX(-100%);
        transition: transform 0.6s ease;
      }

      .login-button:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(66, 209, 88, 0.3);
      }

      .login-button:hover::before {
        transform: translateX(100%);
      }

      .login-footer {
        text-align: center;
        margin-top: 25px;
        font-size: 0.9rem;
        color: var(--login-text-light);
      }

      .back-link {
        color: var(--login-primary);
        text-decoration: none;
        display: flex;
        align-items: center;
        gap: 8px;
        margin-top: 15px;
        justify-content: center;
        font-weight: 500;
        transition: all 0.3s ease;
      }


      /* Message Direction Support */
      html[dir="rtl"] .message-alert {
        text-align: right;
        flex-direction: row-reverse;
        direction: rtl;
      }
      
      html[dir="rtl"] .message-alert .message-text {
        text-align: right;
        direction: rtl;
      }
      
      html[dir="ltr"] .message-alert {
        text-align: left;
        flex-direction: row;
        direction: ltr;
      }
      
      html[dir="ltr"] .message-alert .message-text {
        text-align: left;
        direction: ltr;
      }
      
      /* RTL Direction Support for Input Fields */
      html[dir="rtl"] .input-with-icon i {
        right: 15px;
        left: auto;
      }

      html[dir="rtl"] .input-with-icon input {
        padding: 0 50px 0 45px;
        text-align: right;
        direction: rtl;
      }

      html[dir="rtl"] .toggle-password {
        right: 50px;
        left: auto;
      }

      /* LTR Direction Support for Input Fields */
      html[dir="ltr"] .input-with-icon i {
        left: 15px;
        right: auto;
      }

      html[dir="ltr"] .input-with-icon input {
        padding: 0 45px 0 50px;
        text-align: left;
        direction: ltr;
      }

      html[dir="ltr"] .toggle-password {
        left: auto;
        right: 15px;
      }

      /* Input placeholder alignment based on language direction */
      html[dir="ltr"] input::placeholder {
        text-align: left;
      }

      html[dir="rtl"] input::placeholder {
        text-align: right;
      }

      .back-link:hover {
        color: var(--login-primary-dark);
      }

      .server-status {
        margin-top: 20px;
        padding: 10px 15px;
        border-radius: 10px;
        font-size: 0.85rem;
        text-align: center;
        transition: all 0.3s ease;
      }

      .server-status.online {
        background-color: rgba(66, 209, 88, 0.1);
        color: var(--login-primary);
      }

      .server-status.offline {
        background-color: rgba(255, 59, 48, 0.1);
        color: var(--login-error);
      }

      .theme-toggle {
        position: absolute;
        top: 20px;
        left: 20px;
        background: none;
        border: none;
        color: var(--login-text-light);
        font-size: 1.2rem;
        cursor: pointer;
        z-index: 10;
        transition: all 0.3s ease;
      }

      .theme-toggle:hover {
        color: var(--login-primary);
        transform: rotate(30deg);
      }

      /* Language switcher button */
      .language-switcher {
        position: absolute;
        top: 20px;
        left: 60px;
        background: none;
        border: none;
        color: var(--login-text-light);
        font-size: 1rem;
        cursor: pointer;
        z-index: 10;
        transition: all 0.3s ease;
        padding: 5px 10px;
        border-radius: 5px;
      }

      .language-switcher:hover {
        color: var(--login-primary);
        background-color: rgba(66, 209, 88, 0.1);
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0) scale(1);
        }
        50% {
          transform: translateY(-20px) scale(1.05);
        }
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
          transform: scale(1);
        }
        50% {
          opacity: 0.8;
          transform: scale(0.95);
        }
      }

      /* Message Animations */
      @keyframes messageSlideIn {
        0% {
          opacity: 0;
          transform: translateY(-20px) scale(0.95);
        }
        50% {
          opacity: 0.8;
          transform: translateY(-5px) scale(1.02);
        }
        100% {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }

      @keyframes errorPulse {
        0%, 100% {
          opacity: 1;
        }
        50% {
          opacity: 0.7;
        }
      }

      @keyframes successBounce {
        0% {
          transform: scale(0);
        }
        50% {
          transform: scale(1.3);
        }
        100% {
          transform: scale(1);
        }
      }

      @keyframes warningShake {
        0%, 100% {
          transform: translateX(0);
        }
        25% {
          transform: translateX(-3px);
        }
        75% {
          transform: translateX(3px);
        }
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Success animation effects */
      @keyframes successPulse {
        0% {
          box-shadow: 0 0 0 0 rgba(66, 209, 88, 0.7);
        }
        70% {
          box-shadow: 0 0 0 15px rgba(66, 209, 88, 0);
        }
        100% {
          box-shadow: 0 0 0 0 rgba(66, 209, 88, 0);
        }
      }

      @keyframes successScale {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
        100% {
          transform: scale(1);
        }
      }

      @keyframes checkmark {
        0% {
          transform: scale(0);
          opacity: 0;
        }
        50% {
          transform: scale(1.2);
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      .login-success .login-panel {
        animation: successScale 0.5s ease forwards;
      }

      .login-success .login-form-container {
        animation: successPulse 1s ease;
      }

      .login-success .success-checkmark {
        display: inline-block;
        margin-right: 8px;
        color: var(--login-primary);
        animation: checkmark 0.5s ease forwards;
      }

      /* Shake animation for failed login */
      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        10%,
        30%,
        50%,
        70%,
        90% {
          transform: translateX(-10px);
        }
        20%,
        40%,
        60%,
        80% {
          transform: translateX(10px);
        }
      }

      .shake {
        animation: shake 0.6s ease;
      }

      /* Responsive adjustments */
      @media (max-width: 768px) {
        .login-panel {
          flex-direction: column;
          max-width: 95%;
          margin: 20px auto;
        }

        .login-image {
          display: none;
        }

        .login-form-container {
          padding: 30px 20px;
        }
      }

      /* Login button text direction support */
      .login-button {
        text-align: center;
      }
      
      html[dir="rtl"] .login-button {
        direction: rtl;
      }
      
      html[dir="ltr"] .login-button {
        direction: ltr;
      }
      
      /* Position login button icon based on language direction */
      html[dir="ltr"] .login-button i {
        margin-right: 8px;
        margin-left: 0;
        order: 1;
        margin-top: 5px;
      }

      html[dir="rtl"] .login-button i {
        margin-left: 8px;
        margin-right: 0;
        margin-top: 5px;
      }
      
      /* Loading state icon positioning */
      .login-button i.fa-spinner {
        margin-right: 8px;
        margin-left: 0;
        animation: spin 1s linear infinite;
      }
      
      html[dir="rtl"] .login-button i.fa-spinner {
        margin-right: 0;
        margin-left: 8px;
      }
      
      html[dir="ltr"] .login-button i.fa-spinner {
        margin-right: 8px;
        margin-left: 0;
      }
    </style>
  </head>
  <body>
    <button id="theme-toggle" class="theme-toggle">
      <i class="fas fa-moon"></i>
    </button>

    <div class="login-container">
      <div class="login-background">
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
      </div>

      <div class="login-panel">
        <div class="login-image">
          <div class="login-image-content">
            <div class="login-image-logo">⚙️</div>
            <h2 data-i18n="dashboardTitle">لوحة تحكم القائمة الرقمية</h2>
            <p data-i18n="dashboardDescription">
              قم بإدارة منتجاتك وعروضك والمزيد من خلال لوحة التحكم الخاصة بك
            </p>
            <div class="login-feature">
              <span data-i18n="featureReports">تقارير وإحصائيات متقدمة</span>
              <i class="fas fa-chart-pie"></i>
            </div>
            <div class="login-feature">
              <span data-i18n="featureSales">مراقبة المبيعات والإحصائيات</span>
              <i class="fas fa-chart-line"></i>
            </div>
            <div class="login-feature">
              <span data-i18n="featureProducts">إدارة المنتجات والفئات</span>
              <i class="fas fa-utensils"></i>
            </div>

            <div class="login-feature">
              <span data-i18n="featureOffers">إدارة العروض والخصومات</span>
              <i class="fas fa-tag"></i>
            </div>
            <div class="login-feature">
              <span data-i18n="featureQR">إنشاء رموز QR للطاولات</span>
              <i class="fas fa-qrcode"></i>
            </div>
          </div>
        </div>

        <div class="login-form-container">
          <div class="login-header">
            <div class="login-logo">⚙️</div>
            <h1 class="login-title" data-i18n="loginTitle">
              تسجيل الدخول للوحة التحكم
            </h1>
            <p class="login-subtitle" data-i18n="loginSubtitle">
              أدخل بيانات الدخول للوصول للوحة التحكم
            </p>
          </div>

          <!-- Modern Message Container -->
          <div class="message-container">
            <div class="message-alert" id="message-alert">
              <div class="message-icon">
                <i class="fas fa-exclamation-circle"></i>
              </div>
              <div class="message-text" data-i18n="invalidCredentials" data-i18n-en="Invalid username or password">
                اسم المستخدم أو كلمة المرور غير صحيحة
              </div>
            </div>
          </div>

          <form class="login-form" id="login-form">
            <div class="form-group">
              <label for="username" data-i18n="username">اسم المستخدم</label>
              <div class="input-with-icon">
                <i class="fas fa-user"></i>
                <input
                  type="text"
                  id="username"
                  name="username"
                  data-i18n-placeholder="usernamePlaceholder"
                  placeholder="أدخل اسم المستخدم"
                  required />
              </div>
            </div>

            <div class="form-group">
              <label for="password" data-i18n="password">كلمة المرور</label>
              <div class="input-with-icon">
                <i class="fas fa-lock"></i>
                <input
                  type="password"
                  id="password"
                  name="password"
                  data-i18n-placeholder="passwordPlaceholder"
                  placeholder="أدخل كلمة المرور"
                  required />
                <button
                  type="button"
                  class="toggle-password"
                  id="toggle-password">
                  <i class="fas fa-eye"></i>
                </button>
              </div>
            </div>

            <div class="remember-me">
              <input type="checkbox" id="remember" name="remember" />
              <label for="remember" data-i18n="rememberMe">تذكرني</label>
            </div>

            <button type="submit" class="login-button" data-i18n="loginButton">
              <i class="fas fa-sign-in-alt"></i> تسجيل الدخول
            </button>
          </form>

          <div class="login-footer">
            <a href="../index.html" class="back-link" data-i18n="backToMenu">
              <i class="fas fa-arrow-right"></i> العودة للقائمة الرئيسية
            </a>
          </div>

          <div
            id="server-status"
            class="server-status offline"
            data-i18n="checkingServer">
            جاري التحقق من اتصال الخادم...
          </div>
        </div>
      </div>
    </div>

    <script src="js/i18n.js"></script>
    <script src="js/admin-auth.js"></script>
    <script>
      // Center dashboardTitle immediately
      document.addEventListener("DOMContentLoaded", function () {
        const dashboardTitle = document.querySelector(
          'h2[data-i18n="dashboardTitle"]'
        );
        if (dashboardTitle) {
          dashboardTitle.style.textAlign = "center";
          dashboardTitle.style.width = "100%";
        }
      });

      // Theme toggle functionality
      const themeToggle = document.getElementById("theme-toggle");
      const themeIcon = themeToggle.querySelector("i");

      // Check for saved theme preference or use system preference
      const prefersDarkMode = window.matchMedia(
        "(prefers-color-scheme: dark)"
      ).matches;
      const savedTheme = localStorage.getItem("admin-theme");

      if (savedTheme === "dark" || (!savedTheme && prefersDarkMode)) {
        document.body.classList.add("dark-theme");
        themeIcon.classList.remove("fa-moon");
        themeIcon.classList.add("fa-sun");
      }

      themeToggle.addEventListener("click", () => {
        document.body.classList.toggle("dark-theme");

        if (document.body.classList.contains("dark-theme")) {
          localStorage.setItem("admin-theme", "dark");
          themeIcon.classList.remove("fa-moon");
          themeIcon.classList.add("fa-sun");
        } else {
          localStorage.setItem("admin-theme", "light");
          themeIcon.classList.remove("fa-sun");
          themeIcon.classList.add("fa-moon");
        }
      });
    </script>
  </body>
</html>
